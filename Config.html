<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Engine.html">
<link rel="next" href="Packet.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Engine" rel="Chapter" href="Engine.html">
<link title="Config" rel="Chapter" href="Config.html">
<link title="Packet" rel="Chapter" href="Packet.html">
<link title="Ciphersuite" rel="Chapter" href="Ciphersuite.html">
<link title="Core" rel="Chapter" href="Core.html">
<link title="Tls_lwt" rel="Chapter" href="Tls_lwt.html">
<link title="X509_lwt" rel="Chapter" href="X509_lwt.html">
<link title="Tls_mirage" rel="Chapter" href="Tls_mirage.html"><link title="Config type" rel="Section" href="#1_Configtype">
<link title="Constructors" rel="Section" href="#1_Constructors">
<link title="Utility functions" rel="Section" href="#1_Utilityfunctions">
<link title="Internal use only" rel="Section" href="#1_Internaluseonly">
<title>Config</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Engine.html" title="Engine">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Packet.html" title="Packet">Next</a>
</div>
<h1>Module <a href="type_Config.html">Config</a></h1>

<pre><span class="keyword">module</span> Config: <code class="code">sig</code> <a href="Config.html">..</a> <code class="code">end</code></pre><div class="info module top">
Configuration of the TLS stack<br>
</div>
<hr width="100%">
<br>
Configuration of the TLS stack<br>
<br>
<h1 id="1_Configtype">Config type</h1><br>

<pre><span id="TYPEcertchain"><span class="keyword">type</span> <code class="type"></code>certchain</span> = <code class="type">X509.t list * Nocrypto.Rsa.priv</code> </pre>
<div class="info ">
certificate chain and private key of the first certificate<br>
</div>


<pre><span id="TYPEown_cert"><span class="keyword">type</span> <code class="type"></code>own_cert</span> = <code class="type">[ `Multiple of <a href="Config.html#TYPEcertchain">certchain</a> list<br>       | `Multiple_default of <a href="Config.html#TYPEcertchain">certchain</a> * <a href="Config.html#TYPEcertchain">certchain</a> list<br>       | `None<br>       | `Single of <a href="Config.html#TYPEcertchain">certchain</a> ]</code> </pre>
<div class="info ">
polymorphic variant of own certificates<br>
</div>


<pre><code><span id="TYPEconfig"><span class="keyword">type</span> <code class="type"></code>config</span> = private {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.ciphers">ciphers</span>&nbsp;: <code class="type"><a href="Ciphersuite.html#TYPEciphersuite">Ciphersuite.ciphersuite</a> list</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
ordered list (regarding preference) of supported cipher suites<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.protocol_versions">protocol_versions</span>&nbsp;: <code class="type"><a href="Core.html#TYPEtls_version">Core.tls_version</a> * <a href="Core.html#TYPEtls_version">Core.tls_version</a></code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
supported protocol versions (min, max)<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.hashes">hashes</span>&nbsp;: <code class="type">Nocrypto.Hash.hash list</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
ordered list of supported hash algorithms (regarding preference)<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.use_reneg">use_reneg</span>&nbsp;: <code class="type">bool</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
endpoint should accept renegotiation requests<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.authenticator">authenticator</span>&nbsp;: <code class="type">X509.Authenticator.a option</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
optional X509 authenticator<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.peer_name">peer_name</span>&nbsp;: <code class="type">string option</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
optional name of other endpoint (used for SNI RFC4366)<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconfig.own_certificates">own_certificates</span>&nbsp;: <code class="type"><a href="Config.html#TYPEown_cert">own_cert</a></code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
optional default certificate chain and other certificate chains<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info ">
configuration parameters<br>
</div>


<pre><span id="VALconfig_of_sexp"><span class="keyword">val</span> config_of_sexp</span> : <code class="type">Sexplib.Sexp.t -> <a href="Config.html#TYPEconfig">config</a></code></pre>
<pre><span id="VALsexp_of_config"><span class="keyword">val</span> sexp_of_config</span> : <code class="type"><a href="Config.html#TYPEconfig">config</a> -> Sexplib.Sexp.t</code></pre>
<pre><span id="TYPEclient"><span class="keyword">type</span> <code class="type"></code>client</span> </pre>
<div class="info ">
opaque type of a client configuration<br>
</div>


<pre><span id="VALclient_of_sexp"><span class="keyword">val</span> client_of_sexp</span> : <code class="type">Sexplib.Sexp.t -> <a href="Config.html#TYPEclient">client</a></code></pre>
<pre><span id="VALsexp_of_client"><span class="keyword">val</span> sexp_of_client</span> : <code class="type"><a href="Config.html#TYPEclient">client</a> -> Sexplib.Sexp.t</code></pre>
<pre><span id="TYPEserver"><span class="keyword">type</span> <code class="type"></code>server</span> </pre>
<div class="info ">
opaque type of a server configuration<br>
</div>


<pre><span id="VALserver_of_sexp"><span class="keyword">val</span> server_of_sexp</span> : <code class="type">Sexplib.Sexp.t -> <a href="Config.html#TYPEserver">server</a></code></pre>
<pre><span id="VALsexp_of_server"><span class="keyword">val</span> sexp_of_server</span> : <code class="type"><a href="Config.html#TYPEserver">server</a> -> Sexplib.Sexp.t</code></pre><br>
<h1 id="1_Constructors">Constructors</h1><br>
<br>
<code class="code">client authenticator ?ciphers ?version ?hashes ?reneg ?certificates</code> is <code class="code">client</code> configuration with the given parameters<br>

<pre><span id="VALclient"><span class="keyword">val</span> client</span> : <code class="type">authenticator:X509.Authenticator.a -><br>       ?ciphers:<a href="Ciphersuite.html#TYPEciphersuite">Ciphersuite.ciphersuite</a> list -><br>       ?version:<a href="Core.html#TYPEtls_version">Core.tls_version</a> * <a href="Core.html#TYPEtls_version">Core.tls_version</a> -><br>       ?hashes:Nocrypto.Hash.hash list -><br>       ?reneg:bool -> ?certificates:<a href="Config.html#TYPEown_cert">own_cert</a> -> unit -> <a href="Config.html#TYPEclient">client</a></code></pre><div class="info ">
<b>Raises</b> <code>Invalid_argument</code> if the configuration is invalid<br>
</div>
<br>
<code class="code">server ?ciphers ?version ?hashes ?reneg ?certificates ?authenticator</code> is <code class="code">server</code> configuration with the given parameters<br>

<pre><span id="VALserver"><span class="keyword">val</span> server</span> : <code class="type">?ciphers:<a href="Ciphersuite.html#TYPEciphersuite">Ciphersuite.ciphersuite</a> list -><br>       ?version:<a href="Core.html#TYPEtls_version">Core.tls_version</a> * <a href="Core.html#TYPEtls_version">Core.tls_version</a> -><br>       ?hashes:Nocrypto.Hash.hash list -><br>       ?reneg:bool -><br>       ?certificates:<a href="Config.html#TYPEown_cert">own_cert</a> -><br>       ?authenticator:X509.Authenticator.a -> unit -> <a href="Config.html#TYPEserver">server</a></code></pre><div class="info ">
<b>Raises</b> <code>Invalid_argument</code> if the configuration is invalid<br>
</div>

<pre><span id="VALpeer"><span class="keyword">val</span> peer</span> : <code class="type"><a href="Config.html#TYPEclient">client</a> -> string -> <a href="Config.html#TYPEclient">client</a></code></pre><div class="info ">
<code class="code">peer client name</code> is <code class="code">client</code> with <code class="code">name</code> as <code class="code">peer_name</code><br>
</div>
<br>
<h1 id="1_Utilityfunctions">Utility functions</h1><br>

<pre><span id="VALdefault_hashes"><span class="keyword">val</span> default_hashes</span> : <code class="type">Nocrypto.Hash.hash list</code></pre><div class="info ">
<code class="code">default_hashes</code> is a list of hash algorithms used by default<br>
</div>

<pre><span id="VALsupported_hashes"><span class="keyword">val</span> supported_hashes</span> : <code class="type">Nocrypto.Hash.hash list</code></pre><div class="info ">
<code class="code">supported_hashes</code> is a list of supported hash algorithms by this library<br>
</div>

<pre><span id="VALmin_dh_size"><span class="keyword">val</span> min_dh_size</span> : <code class="type">int</code></pre><div class="info ">
<code class="code">min_dh_size</code> is minimal diffie hellman group size in bits (currently 512)<br>
</div>

<pre><span id="VALdh_group"><span class="keyword">val</span> dh_group</span> : <code class="type">Nocrypto.Dh.group</code></pre><div class="info ">
<code class="code">dh_group</code> is the default diffie hellman group (currently FFDHE-DRAFT-2084)<br>
</div>

<pre><span id="VALmin_rsa_key_size"><span class="keyword">val</span> min_rsa_key_size</span> : <code class="type">int</code></pre><div class="info ">
<code class="code">min_rsa_key_size</code> is minimal RSA modulus key size in bits (currently 1024)<br>
</div>

<pre><span class="keyword">module</span> <a href="Config.Ciphers.html">Ciphers</a>: <code class="code">sig</code> <a href="Config.Ciphers.html">..</a> <code class="code">end</code></pre><div class="info">
Cipher selection
</div>
<br>
<h1 id="1_Internaluseonly">Internal use only</h1><br>

<pre><span id="VALof_client"><span class="keyword">val</span> of_client</span> : <code class="type"><a href="Config.html#TYPEclient">client</a> -> <a href="Config.html#TYPEconfig">config</a></code></pre><div class="info ">
<code class="code">of_client client</code> is a client configuration for <code class="code">client</code><br>
</div>

<pre><span id="VALof_server"><span class="keyword">val</span> of_server</span> : <code class="type"><a href="Config.html#TYPEserver">server</a> -> <a href="Config.html#TYPEconfig">config</a></code></pre><div class="info ">
<code class="code">of_server server</code> is a server configuration for <code class="code">server</code><br>
</div>
</body></html>